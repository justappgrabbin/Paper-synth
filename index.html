<!DOCTYPE html>
<html>
<head>
    <title>FOUNDRY | Direct Install</title>
    <style>
        body { background: #000; color: #fff; font-family: sans-serif; padding: 50px; }
        .work-zone { border: 5px solid #333; padding: 50px; border-radius: 20px; text-align: center; }
        .key-input { background: #111; border: 1px solid #555; color: #0f0; width: 100%; padding: 15px; margin-bottom: 20px; }
        button { background: white; color: black; padding: 20px 40px; border: none; font-weight: bold; cursor: pointer; border-radius: 10px; }
        #output { margin-top: 20px; color: #888; font-family: monospace; }
    </style>
</head>
<body>

    <div class="work-zone">
        <h1>FOUNDRY ACTIVATOR</h1>
        <p>Proof of Concept: 1997-10-28 Trinity</p>
        
        <input type="text" id="anon_key" class="key-input" placeholder="PASTE ANON KEY HERE">
        
        <div id="drop_area" style="border: 2px dashed #555; padding: 30px; margin-bottom: 20px;">
            DRAG YOUR WORK FOLDER HERE
        </div>

        <button onclick="installWork()">INSTALL ACTUAL WORK</button>
        <div id="output">Status: Waiting for input...</div>
    </div>

<script>
    async function installWork() {
        const key = document.getElementById('anon_key').value;
        const out = document.getElementById('output');
        const url = "https://prhwckcdllnepbsjzseu.supabase.co/functions/v1/model-deployer";

        if(!key) { out.innerText = "Error: Key is missing."; return; }

        out.innerText = "Bypassing chefs... installing directly to Foundry.";

        try {
            const response = await fetch(url, {
                method: 'POST',
                headers: { 'Authorization': `Bearer ${key}`, 'Content-Type': 'application/json' },
                body: JSON.stringify({ 
                    blueprint: "1997-10-28", 
                    status: "DEPLOY_PAPER" 
                })
            });

            if(response.ok) {
                out.style.color = "#0f0";
                out.innerText = "SUCCESS. The Foundry is hot. Paper is manifesting.";
            } else {
                out.innerText = "Connection failed. The platform is blocking the gate.";
            }
        } catch (e) {
            out.innerText = "System Error: " + e.message;
        }
    }
</script>
</body>
</html>
